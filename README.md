# hyperlinker-hyunzy
ìˆ˜ì •# hyperlinker-hyunzy

## ğŸ” ë¡œê·¸ì¸ í›„ ê¸°ëŠ¥ ì‚¬ìš© (ë³´ì•ˆ)

### ğŸ”‘ ë¡œê·¸ì¸ / íšŒì›ê°€ì… - JWT ì¸ì¦ ë°©ì‹
ì¼ë°˜ ë¡œê·¸ì¸ / íšŒì›ê°€ì…ì„ ì œê³µí•©ë‹ˆë‹¤.

![JWT ë¡œê·¸ì¸](images/EA2877D7-FB37-442D-8AD4-778963D599A8.jpeg)
![íšŒì›ê°€ì…](images/CD2B2622-CC2F-44FC-85B9-62BC11DB3C69.jpeg)
![ë¡œê·¸ì¸ UI](images/2720FAF3-17A5-4944-B7B5-74D98FC074A7.jpeg)

### ğŸŒ ë¡œê·¸ì¸ / íšŒì›ê°€ì… - êµ¬ê¸€ ê°„í¸ ë¡œê·¸ì¸
êµ¬ê¸€ ê³„ì •ì„ í™œìš©í•œ ê°„í¸ ë¡œê·¸ì¸ì„ ì§€ì›í•©ë‹ˆë‹¤.

![êµ¬ê¸€ ë¡œê·¸ì¸](images/419F9E08-B83A-48CF-836E-268F2B43447D.jpeg)
![êµ¬ê¸€ ì¸ì¦](images/64DE6424-2E3F-407D-8AD9-AA2BF9083AF8.jpeg)

---

## ğŸ”— ì›¹ ë§í¬ ê´€ë¦¬

### ğŸ“Œ ì›¹ ë§í¬ ë“±ë¡, ìˆ˜ì •, ì‚­ì œ
ì‚¬ìš©ìëŠ” ìì‹ ë§Œì˜ ì›¹ ë§í¬ë¥¼ ì¶”ê°€í•˜ê³  ìˆ˜ì •í•˜ê±°ë‚˜ ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![ë§í¬ ê´€ë¦¬](images/10AC8ED0-18FD-4FC7-87BF-5227628FFCF9.jpeg)

---

## ğŸ“¤ ê³µìœ  ë° ê¶Œí•œ ê´€ë¦¬

### ğŸ—‚ ë§ˆì´í˜ì´ì§€ - ë‚´ê°€ ê³µìœ í•œ ë§í¬ / ê³µìœ  ë°›ì€ ë§í¬ í™•ì¸
ê³µìœ í•œ ë§í¬ì™€ ê³µìœ ë°›ì€ ë§í¬ë¥¼ í•œëˆˆì— í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![ë§ˆì´í˜ì´ì§€](images/0B48BB7E-D4A5-439E-8505-66D50E0A6BBE.jpeg)
![ê³µìœ  ë°›ì€ ë§í¬](images/42E8E5F8-1A7F-4603-87BC-C3420F59ABC1.jpeg)
![ë§í¬ ê¶Œí•œ ê´€ë¦¬](images/83A9E03C-3E09-49FA-B22C-1FD49C4F3C72.jpeg)

---

## ğŸ” ê²€ìƒ‰ ë° í•„í„°

### ğŸ” ê²€ìƒ‰ ë° ì¹´í…Œê³ ë¦¬ë³„ ë§í¬ ì •ë¦¬
í•„ìš”í•œ ë§í¬ë¥¼ ê²€ìƒ‰í•˜ê³ , ì¹´í…Œê³ ë¦¬ë³„ë¡œ ì •ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![ê²€ìƒ‰ ê¸°ëŠ¥](images/7B3DB010-BB17-4C79-ACC0-4B464AF8FC2B.jpeg)
![ì¹´í…Œê³ ë¦¬ í•„í„°](images/2B2BC068-05C3-4026-BDB3-E1D5B0E9CE94.jpeg)

---

## ğŸ“Œ í”„ë¡œì íŠ¸ ì •ë³´

- **ê¸°ìˆ  ìŠ¤íƒ**: React, Django, PostgreSQL, JWT ì¸ì¦
- **ì£¼ìš” ê¸°ëŠ¥**: ë§í¬ ê´€ë¦¬, ê²€ìƒ‰, ê³µìœ  ë° ê¶Œí•œ ê´€ë¦¬, JWT ë° êµ¬ê¸€ ë¡œê·¸ì¸
- **ê°œë°œ ëª©í‘œ**: ë³´ì•ˆì´ ê°•í™”ëœ ì›¹ ë§í¬ ì €ì¥ ë° ê³µìœ  í”Œë«í¼ ì œê³µ

## ğŸ“Œ ì„¤ì¹˜ ë° ì‹¤í–‰ ë°©ë²•

```bash
# íŒŒì¼ ì„¤ì¹˜ ë° ì‹¤í–‰
pip install -r requirements.txt
python manage.py runserver
```
---

## ğŸš€ ì£¼ìš” íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ì‚¬ë¡€

### 1ï¸âƒ£ **Django ì»¤ìŠ¤í…€ User ëª¨ë¸ ì ìš© ì‹œ AttributeError ë°œìƒ**
#### **ë¬¸ì œ**
- `AUTH_USER_MODEL`ì„ ë³€ê²½í•œ í›„ `User.objects.all()` í˜¸ì¶œ ì‹œ `AttributeError: Manager isn't available` ì˜¤ë¥˜ ë°œìƒ

#### **ì›ì¸**
- Django ORMì´ ê¸°ë³¸ `auth.User` ëª¨ë¸ì„ ì°¸ì¡°í•˜ë ¤ê³  ì‹œë„í•˜ë©´ì„œ ì¶©ëŒ ë°œìƒ
- `get_user_model()`ì„ ì‚¬ìš©í•˜ì§€ ì•Šê³  ê¸°ì¡´ `from django.contrib.auth.models import User`ë¥¼ ì‚¬ìš©í•œ ë¬¸ì œ
- ë§ˆì´ê·¸ë ˆì´ì…˜ì´ ì œëŒ€ë¡œ ë°˜ì˜ë˜ì§€ ì•Šì•„ `auth.User`ì™€ `accounts.User` ê°„ ì¶©ëŒ

#### **í•´ê²° ë°©ë²•**
```python
from django.contrib.auth import get_user_model
User = get_user_model()  # âœ… ì»¤ìŠ¤í…€ User ëª¨ë¸ì„ ì˜¬ë°”ë¥´ê²Œ ê°€ì ¸ì˜´
```
```bash
# ë§ˆì´ê·¸ë ˆì´ì…˜ ì¬ì ìš©
python manage.py makemigrations accounts
python manage.py migrate
```
```bash
# Django shellì—ì„œ ORM í™•ì¸
python manage.py shell
>>> from django.contrib.auth import get_user_model
>>> User = get_user_model()
>>> User.objects.all()
```

### 2ï¸âƒ£ **Django JWT ì¸ì¦ ì ìš© í›„ ìë™ ë¡œê·¸ì•„ì›ƒ ë¬¸ì œ**
#### **ë¬¸ì œ**
- JWT ì¸ì¦ ì ìš© í›„ ì¼ì • ì‹œê°„ì´ ì§€ë‚˜ë©´ ìë™ ë¡œê·¸ì•„ì›ƒë¨
- í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€ê°€ ë˜ì§€ ì•ŠìŒ

#### **ì›ì¸**
- `access_token` ë§Œë£Œ í›„ `refresh_token`ì„ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ
- `httponly=True` ì„¤ì •ìœ¼ë¡œ ì¸í•´ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ `access_token`ì„ ì§ì ‘ ê°±ì‹  ë¶ˆê°€ëŠ¥

#### **í•´ê²° ë°©ë²•**
âœ… **1. Djangoì—ì„œ JWTë¥¼ ì¿ í‚¤ì— ì €ì¥**
```python
from rest_framework_simplejwt.tokens import RefreshToken
from django.http import JsonResponse

def login_view(request):
    username = request.POST.get("username")
    password = request.POST.get("password")
    user = authenticate(request, username=username, password=password)
    
    if user is not None:
        refresh = RefreshToken.for_user(user)
        response = JsonResponse({"access_token": str(refresh.access_token)})
        response.set_cookie("access_token", str(refresh.access_token), httponly=True)
        response.set_cookie("refresh_token", str(refresh), httponly=True)
        return response
    else:
        return JsonResponse({"error": "Invalid credentials"}, status=400)
```
âœ… **2. í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ìë™ìœ¼ë¡œ `refresh_token` ìš”ì²­**
```javascript
async function fetchWithAuth(url, options = {}) {
    const response = await fetch(url, {
        ...options,
        credentials: "include",
        headers: {
            ...options.headers,
            "Content-Type": "application/json",
        },
    });

    if (response.status === 401) {
        const refreshResponse = await fetch("/accounts/token/refresh/", {
            method: "POST",
            credentials: "include",
            headers: { "Content-Type": "application/json" },
        });
        if (refreshResponse.ok) {
            return fetchWithAuth(url, options);
        }
    }
    return response.json();
}
```
âœ… **3. Django `settings.py`ì—ì„œ JWT ë§Œë£Œ ì‹œê°„ ì„¤ì •**
```python
SIMPLE_JWT = {
    "ACCESS_TOKEN_LIFETIME": timedelta(minutes=30),
    "REFRESH_TOKEN_LIFETIME": timedelta(days=7),
}
```


